#!/bin/bash

# Список серверов
servers=("server1" "server2" "server3") # Замените на реальные IP-адреса или доменные имена ваших серверов

# Сообщение для отправки через сокет
message="Команда для выполнения"

for server in "${servers[@]}"; do
    echo "Подключение к серверу $server..."
    
    # Отправка сообщения через сокет с использованием netcat (nc)
    echo -n "$message" | nc -q 1 $server 12345
    
    if [ $? -eq 0 ]; then
        echo "Команда успешно отправлена на сервер $server."
    else
        echo "Ошибка при подключении к серверу $server."
    fi
done

echo "Завершение работы со всеми серверами."
